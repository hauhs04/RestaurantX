{"ast":null,"code":"import axios from 'axios';\nimport { get } from 'js-cookie';\nconst user = {\n  SignedCookie: null,\n  user: null,\n  WishlistLocal: []\n};\n\nconst getUser = async () => await axios.get(\"/users/get/user\");\n\nconst getSanpham = async id => await axios.get(\"/items/\" + id);\n\nif (get(\"userEmail\")) {\n  getUser().then(async res => {\n    user.user = await res.data.payload;\n    await res.data.payload.wishlist.map(value => {\n      return getSanpham(value).then(res => {\n        user.WishlistLocal.push(res.data.payload);\n        localStorage.setItem(\"Wishlist\", JSON.stringify(user.WishlistLocal));\n      });\n    });\n  }).catch();\n}\n\nconst User = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : user;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"GET_USER\":\n      return { ...state,\n        user: action.GET_USER\n      };\n\n    case \"UPDATE_WISHLIST\":\n      return { ...state,\n        WishlistLocal: action.UPDATE_WISHLIST\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = User;\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["C:/Users/ACER/Dropbox/My PC (LAPTOP-JA8PC77O)/Desktop/BTL/RestaurantX/Client/src/Redux/User.js"],"names":["axios","get","user","SignedCookie","WishlistLocal","getUser","getSanpham","id","then","res","data","payload","wishlist","map","value","push","localStorage","setItem","JSON","stringify","catch","User","state","action","type","GET_USER","UPDATE_WISHLIST"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,WAApB;AACA,MAAMC,IAAI,GAAG;AACTC,EAAAA,YAAY,EAAC,IADJ;AAETD,EAAAA,IAAI,EAAC,IAFI;AAGTE,EAAAA,aAAa,EAAC;AAHL,CAAb;;AAKA,MAAMC,OAAO,GAAG,YAAW,MAAML,KAAK,CAACC,GAAN,CAAU,iBAAV,CAAjC;;AACA,MAAMK,UAAU,GAAG,MAAMC,EAAN,IAAa,MAAMP,KAAK,CAACC,GAAN,CAAU,YAAUM,EAApB,CAAtC;;AACA,IAAGN,GAAG,CAAC,WAAD,CAAN,EAAoB;AAChBI,EAAAA,OAAO,GAAGG,IAAV,CAAe,MAAMC,GAAN,IAAY;AACvBP,IAAAA,IAAI,CAACA,IAAL,GAAW,MAAMO,GAAG,CAACC,IAAJ,CAASC,OAA1B;AACA,UAAMF,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBC,QAAjB,CAA0BC,GAA1B,CAA+BC,KAAD,IAAS;AACzC,aAAOR,UAAU,CAACQ,KAAD,CAAV,CAAkBN,IAAlB,CAAwBC,GAAD,IAAO;AAACP,QAAAA,IAAI,CAACE,aAAL,CAAmBW,IAAnB,CAAwBN,GAAG,CAACC,IAAJ,CAASC,OAAjC;AAA0CK,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAejB,IAAI,CAACE,aAApB,CAAjC;AAAqE,OAA9I,CAAP;AACH,KAFK,CAAN;AAGH,GALD,EAKGgB,KALH;AAMH;;AAED,MAAMC,IAAI,GAAG,YAA0B;AAAA,MAAzBC,KAAyB,uEAAjBpB,IAAiB;AAAA,MAAXqB,MAAW;;AAEnC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,UAAL;AACI,aAAO,EAAC,GAAGF,KAAJ;AAAUpB,QAAAA,IAAI,EAACqB,MAAM,CAACE;AAAtB,OAAP;;AACJ,SAAK,iBAAL;AACI,aAAO,EAAC,GAAGH,KAAJ;AAAUlB,QAAAA,aAAa,EAACmB,MAAM,CAACG;AAA/B,OAAP;;AACJ;AACI,aAAOJ,KAAP;AANR;AAQH,CAVD;;KAAMD,I;AAWN,eAAeA,IAAf","sourcesContent":["import axios from 'axios'\r\nimport { get } from 'js-cookie'\r\nconst user = {\r\n    SignedCookie:null,\r\n    user:null,\r\n    WishlistLocal:[],\r\n}\r\nconst getUser = async() => await axios.get(\"/users/get/user\")\r\nconst getSanpham = async(id) => await axios.get(\"/items/\"+id)\r\nif(get(\"userEmail\")){\r\n    getUser().then(async(res)=>{\r\n        user.user= await res.data.payload\r\n        await res.data.payload.wishlist.map((value)=>{\r\n            return getSanpham(value).then((res)=>{user.WishlistLocal.push(res.data.payload);localStorage.setItem(\"Wishlist\", JSON.stringify(user.WishlistLocal))})\r\n        })\r\n    }).catch()\r\n}\r\n\r\nconst User = (state = user, action) => {\r\n    \r\n    switch (action.type) {\r\n        case \"GET_USER\":\r\n            return {...state,user:action.GET_USER}\r\n        case \"UPDATE_WISHLIST\":\r\n            return {...state,WishlistLocal:action.UPDATE_WISHLIST}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default User"]},"metadata":{},"sourceType":"module"}