{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Dropbox\\\\My PC (LAPTOP-JA8PC77O)\\\\Desktop\\\\BTL\\\\RestaurantX\\\\Client\\\\src\\\\Page\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { withSwalInstance } from 'sweetalert2-react';\nimport swal from 'sweetalert2';\nimport Loading from './../component/Loading';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport getCookie from './../function/Getcookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SweetAlert = withSwalInstance(swal);\n_c = SweetAlert;\n\nconst register = async data => await axios.post(\"/users/register\", data);\n\nconst login = async data => await axios.post(\"/users/login\", data);\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.Dangky = () => {\n      this.setState({\n        checkLoad: true\n      });\n      var d = new Date();\n      var time = d.getDate() + '/' + (d.getMonth() + 1) + \"/\" + d.getFullYear();\n      var user = {\n        \"date\": time,\n        \"email\": this.state.dkemail,\n        \"password\": this.state.dkpassword\n      };\n      register(user).then(() => {\n        this.setState({\n          checkLoad: false,\n          checkErr: true,\n          title: \"Đăng ký thành công\",\n          type: \"success\"\n        });\n      }).catch(() => {\n        this.setState({\n          checkLoad: false,\n          checkErr: true,\n          title: \"Đã tồn tại Email\",\n          type: \"error\"\n        });\n      });\n    };\n\n    this.Dangnhap = () => {\n      var user = {\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      };\n      login(user).then(res => this.props.history.push(\"/dashbroad\")).catch(res => {\n        this.setState({\n          checkLoad: false,\n          checkErr: true,\n          title: \"Sai email or password\",\n          type: \"error\"\n        });\n      });\n    };\n\n    this.Confirm = () => {\n      if (this.state.type == \"error\") {\n        return this.setState({\n          checkErr: false\n        });\n      }\n\n      this.setState({\n        checkErr: false\n      });\n      return this.props.history.push(\"/dashbroad\");\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      dkemail: \"\",\n      dkpassword: \"\",\n      checkErr: false,\n      checkLoad: false,\n      title: \"\",\n      type: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (getCookie(\"userEmail\").length > 0) {\n      this.props.history.push(\"/dashbroad\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section section-padding login\",\n      children: [this.state.checkErr ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        show: true,\n        title: this.state.title,\n        type: this.state.type // type=\"success\"\n        ,\n        onConfirm: () => this.Confirm()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }, this) : null, this.state.checkLoad ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-login-register bg-light\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-register-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"title\",\n                  children: \"\\u0110\\u0103ng nh\\u1EADp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"desc\",\n                  children: \"Great to have you back!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-register-form\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row learts-mb-n50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 learts-mb-50\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"email\",\n                        children: [\"Email \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                          className: \"required\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 109,\n                          columnNumber: 48\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        onChange: event => this.isChange(event),\n                        name: \"email\",\n                        type: \"email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 learts-mb-50\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"password\",\n                        children: [\"Password \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                          className: \"required\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 54\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        onChange: event => this.isChange(event),\n                        name: \"password\",\n                        type: \"password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 text-center learts-mb-50\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => this.Dangnhap(),\n                        type: \"button\",\n                        className: \"btn btn-dark btn-outline-hover-dark\",\n                        children: \"\\u0110\\u0103ng nh\\u1EADp\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 learts-mb-50\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row learts-mb-n20\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-12 learts-mb-20\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-12 learts-mb-20\",\n                          children: /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"lost-password.html\",\n                            className: \"fw-400\",\n                            children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 123,\n                            columnNumber: 23\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 122,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-login-register\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-register-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"title\",\n                  children: \"\\u0110\\u0103ng k\\xFD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"desc\",\n                  children: \"N\\u1EBFu b\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n, h\\xE3y \\u0111\\u0103ng k\\xFD ngay!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-register-form\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row learts-mb-n50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 learts-mb-50\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"registerEmail\",\n                        children: [\"Email \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                          className: \"required\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 142,\n                          columnNumber: 56\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        onChange: event => this.isChange(event),\n                        name: \"dkemail\",\n                        type: \"email\",\n                        id: \"registerEmail\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 learts-mb-50\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"registerPassword\",\n                        children: [\"Password \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                          className: \"required\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 146,\n                          columnNumber: 62\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        onChange: event => this.isChange(event),\n                        name: \"dkpassword\",\n                        type: \"password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12 text-center learts-mb-50\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => this.Dangky(),\n                        type: \"button\",\n                        className: \"btn btn-dark btn-outline-hover-dark\",\n                        children: \"\\u0110\\u0103ng k\\xFD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"SweetAlert\");","map":{"version":3,"sources":["C:/Users/ACER/Dropbox/My PC (LAPTOP-JA8PC77O)/Desktop/BTL/RestaurantX/Client/src/Page/Login.js"],"names":["React","Component","withSwalInstance","swal","Loading","axios","connect","getCookie","SweetAlert","register","data","post","login","Login","constructor","props","isChange","e","setState","target","name","value","Dangky","checkLoad","d","Date","time","getDate","getMonth","getFullYear","user","state","dkemail","dkpassword","then","checkErr","title","type","catch","Dangnhap","email","password","res","history","push","Confirm","componentDidMount","length","render","event"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withSwalInstance } from 'sweetalert2-react';\r\nimport swal from 'sweetalert2';\r\nimport Loading from './../component/Loading';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport getCookie from './../function/Getcookie'\r\nconst SweetAlert = withSwalInstance(swal);\r\nconst register = async(data) => await axios.post(\"/users/register\",data);\r\nconst login = async(data) => await axios.post(\"/users/login\",data);\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      email:\"\",\r\n      password:\"\",\r\n      dkemail:\"\",\r\n      dkpassword:\"\",\r\n      checkErr:false,\r\n      checkLoad:false,\r\n      title:\"\",\r\n      type:\"\",\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    if(getCookie(\"userEmail\").length>0){this.props.history.push(\"/dashbroad\")}\r\n  }\r\n  isChange=(e)=>{\r\n    this.setState({\r\n      [e.target.name]:e.target.value\r\n    });\r\n  }\r\n  Dangky=()=>{\r\n    this.setState({checkLoad:true});\r\n    var d = new Date();\r\n    var time = d.getDate()+'/'+(d.getMonth()+1)+\"/\"+d.getFullYear();\r\n    var user={\r\n      \"date\":time,\r\n      \"email\":this.state.dkemail,\r\n      \"password\":this.state.dkpassword,\r\n    }\r\n    register(user)\r\n                  .then(()=>{\r\n                    this.setState({\r\n                      checkLoad:false,\r\n                      checkErr:true,\r\n                      title:\"Đăng ký thành công\",\r\n                      type:\"success\",\r\n                    });\r\n                  })\r\n                  .catch(()=>{\r\n                    this.setState({\r\n                      checkLoad:false,\r\n                      checkErr:true,\r\n                      title:\"Đã tồn tại Email\",\r\n                      type:\"error\",\r\n                    });\r\n                  })\r\n  }\r\n  Dangnhap=()=>{\r\n    var user={\r\n      \"email\":this.state.email,\r\n      \"password\":this.state.password,\r\n    }\r\n    login(user).then((res)=>this.props.history.push(\"/dashbroad\"))\r\n              .catch((res)=>{\r\n                this.setState({\r\n                  checkLoad:false,\r\n                  checkErr:true,\r\n                  title:\"Sai email or password\",\r\n                  type:\"error\",\r\n                });\r\n              })\r\n  }\r\n  Confirm=()=>{\r\n    if(this.state.type==\"error\"){\r\n      return this.setState({ checkErr: false })\r\n    }\r\n    this.setState({ checkErr: false })\r\n    return this.props.history.push(\"/dashbroad\")\r\n  }\r\n    render() {\r\n        return (\r\n            <div className=\"section section-padding login\">\r\n              {\r\n                this.state.checkErr?<SweetAlert\r\n                                      show={true}\r\n                                      title={this.state.title}\r\n                                      type={this.state.type}\r\n                                      // type=\"success\"\r\n                                      onConfirm={() => this.Confirm()}\r\n                                    />:null\r\n              }\r\n              \r\n              {this.state.checkLoad?<Loading></Loading>:null}\r\n  <div className=\"container\">\r\n    <div className=\"row no-gutters\">\r\n      <div className=\"col-lg-6\">\r\n        <div className=\"user-login-register bg-light\">\r\n          <div className=\"login-register-title\">\r\n            <h2 className=\"title\">Đăng nhập</h2>\r\n            <p className=\"desc\">Great to have you back!</p>\r\n          </div>\r\n          <div className=\"login-register-form\">\r\n            <form >\r\n              <div className=\"row learts-mb-n50\">\r\n                <div className=\"col-12 learts-mb-50\">\r\n                  <label htmlFor=\"email\">Email <abbr className=\"required\">*</abbr></label>\r\n                  <input onChange={(event)=>this.isChange(event)} name=\"email\" type=\"email\"  />\r\n                </div>\r\n                <div className=\"col-12 learts-mb-50\">\r\n                  <label htmlFor=\"password\">Password <abbr className=\"required\">*</abbr></label>\r\n                  <input onChange={(event)=>this.isChange(event)} name=\"password\"  type=\"password\"  /></div>\r\n                <div className=\"col-12 text-center learts-mb-50\">\r\n                  <button onClick={()=>this.Dangnhap()} type=\"button\" className=\"btn btn-dark btn-outline-hover-dark\">Đăng nhập</button>\r\n                </div>\r\n                <div className=\"col-12 learts-mb-50\">\r\n                  <div className=\"row learts-mb-n20\">\r\n                    <div className=\"col-12 learts-mb-20\">\r\n                    </div>\r\n                    <div className=\"col-12 learts-mb-20\">\r\n                      <a href=\"lost-password.html\" className=\"fw-400\">Quên mật khẩu</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-lg-6\">\r\n        <div className=\"user-login-register\">\r\n          <div className=\"login-register-title\">\r\n            <h2 className=\"title\">Đăng ký</h2>\r\n            <p className=\"desc\">Nếu bạn chưa có tài khoản, hãy đăng ký ngay!</p>\r\n          </div>\r\n          <div className=\"login-register-form\">\r\n            <form >\r\n              <div className=\"row learts-mb-n50\">\r\n                <div className=\"col-12 learts-mb-50\">\r\n                  <label htmlFor=\"registerEmail\">Email <abbr className=\"required\">*</abbr></label>\r\n                  <input onChange={(event)=>this.isChange(event)} name=\"dkemail\" type=\"email\" id=\"registerEmail\" />\r\n                </div>\r\n                <div className=\"col-12 learts-mb-50\">\r\n                  <label htmlFor=\"registerPassword\">Password <abbr className=\"required\">*</abbr></label>\r\n                  <input onChange={(event)=>this.isChange(event)} name=\"dkpassword\" type=\"password\"  />\r\n                </div>\r\n                {/* <div className=\"col-12 learts-mb-50\">\r\n                  <p>Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our privacy policy</p>\r\n                </div> */}\r\n                <div className=\"col-12 text-center learts-mb-50\">\r\n                  <button onClick={()=>this.Dangky()} type=\"button\" className=\"btn btn-dark btn-outline-hover-dark\">Đăng ký</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        );\r\n    }\r\n}\r\nexport default (Login)\r\n"]},"metadata":{},"sourceType":"module"}