{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Dropbox\\\\My PC (LAPTOP-JA8PC77O)\\\\Desktop\\\\BTL\\\\RestaurantX\\\\Client\\\\src\\\\component\\\\Items.js\";\n\n/* eslint-disable eqeqeq */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport slug from 'vietnamese-slug';\nimport VND from './../function/ConverstVND';\nimport Loading from './Loading';\nimport { withSwalInstance } from 'sweetalert2-react';\nimport swal from 'sweetalert2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst getSanpham = async id => await axios.get(\"/items/\" + id);\n\nconst SweetAlert = withSwalInstance(swal);\n_c = SweetAlert;\n\nconst putWishlist = async (id, wishlist) => await axios.put(\"/users/\" + id, {\n  wishlist\n});\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n\n    this.Compare = () => {\n      this.setState({\n        showAlert: true,\n        title: \"Đang UPDATE modun\",\n        type: \"warning\"\n      });\n    };\n\n    this.AddWishlist = value => {// if (!this.props.user) {\n      //   return this.setState({ showAlert: true, title: \"Đăng nhập để sử dụng chức năng này\", type: \"warning\" });\n      // }\n      // var wishlist = this.props.user.wishlist\n      // var WishlistLocal = this.props.WishlistLocal\n      // if (!wishlist.includes(value._id)) {\n      //   wishlist.push(value._id)\n      //   getSanpham(value._id).then((res) => WishlistLocal.push(res.data.payload))\n      // }\n      // putWishlist(this.props.user._id, wishlist).then((res) => {\n      //   this.props.GET_USER(res.data.payload)\n      //   this.props.UPDATE_WISHLIST(WishlistLocal)\n      //   this.setState({ showAlert: true, title: \"Success\", type: \"success\" });\n      // })\n    };\n\n    this.state = {\n      checkload: false,\n      showAlert: false,\n      title: \"\",\n      type: \"\",\n      text: \"\"\n    };\n  }\n\n  render() {\n    return this.props.sanphams.map((value, key) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.name,\n        children: [this.state.checkload ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 35\n        }, this) : null, this.state.showAlert ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n          show: true,\n          title: this.state.title,\n          type: this.state.type,\n          text: this.state.text // type=\"success\"\n          ,\n          onConfirm: () => this.setState({\n            showAlert: false\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 36\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-thumb\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              onClick: this.props.GET_ITEMcothebancungthich ? () => this.props.GET_ITEMcothebancungthich(value._id) : null,\n              to: \"sanpham.\" + slug(value.title) + \".\" + value._id,\n              className: \"image\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-badges\",\n                children: [value.quantity == 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"outofstock\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fal fa-frown\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 71\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 42\n                }, this) : null, value.status == \"HOT\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hot\",\n                  children: \"hot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 44\n                }, this) : null, value.sale > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"onsale\",\n                  children: [\"-\", value.sale, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 37\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: value.imgs[0],\n                alt: \"Product Image\",\n                style: {\n                  maxHeight: '349px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"image-hover \",\n                src: value.imgs[1],\n                alt: \"Product Image\",\n                style: {\n                  maxHeight: '349px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: this.props.user && this.props.user.wishlist.includes(value._id) ? \"add-to-wishlist hintT-left wishlist-added\" : \"add-to-wishlist hintT-left\",\n              \"data-hint\": \"Add to wishlist\",\n              onClick: () => this.AddWishlist(value),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: this.props.user && this.props.user.wishlist.includes(value._id) ? \"fa-heart fas\" : \"far fa-heart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 239\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"title\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"sanpham.\" + slug(value.title) + \".\" + value._id,\n                children: value.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"price\",\n              children: [value.sale > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"old\",\n                  children: VND(value.price_old)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"new\",\n                  children: VND(value.price_new)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 89\n                }, this)]\n              }, void 0, true) : VND(value.price_new), \" VN\\u0110\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#quickViewModal\",\n                \"data-toggle\": \"modal\",\n                className: \"product-button hintT-top\",\n                \"data-hint\": \"Quick View\",\n                onClick: () => {\n                  this.props.GET_ITEM(value);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fal fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 170\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#quickViewModal\",\n                \"data-toggle\": \"modal\",\n                className: \"product-button hintT-top\",\n                \"data-hint\": \"Add to Cart\",\n                onClick: () => {\n                  this.props.GET_ITEM(value);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fal fa-shopping-cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 171\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => this.Compare(),\n                className: \"product-button hintT-top\",\n                \"data-hint\": \"Compare\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fal fa-random\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 108\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 16\n      }, this);\n    });\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.QLUser.user,\n    WishlistLocal: state.QLUser.WishlistLocal\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    GET_ITEM: GET_ITEM => {\n      dispatch({\n        type: \"GET_ITEM\",\n        GET_ITEM\n      });\n    },\n    GET_USER: GET_USER => {\n      dispatch({\n        type: \"GET_USER\",\n        GET_USER\n      });\n    },\n    UPDATE_WISHLIST: UPDATE_WISHLIST => {\n      dispatch({\n        type: \"UPDATE_WISHLIST\",\n        UPDATE_WISHLIST\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Item);\n\nvar _c;\n\n$RefreshReg$(_c, \"SweetAlert\");","map":{"version":3,"sources":["C:/Users/ACER/Dropbox/My PC (LAPTOP-JA8PC77O)/Desktop/BTL/RestaurantX/Client/src/component/Items.js"],"names":["React","Component","connect","Link","slug","VND","Loading","withSwalInstance","swal","axios","getSanpham","id","get","SweetAlert","putWishlist","wishlist","put","Item","constructor","props","Compare","setState","showAlert","title","type","AddWishlist","value","state","checkload","text","render","sanphams","map","key","name","GET_ITEMcothebancungthich","_id","quantity","status","sale","imgs","maxHeight","user","includes","price_old","price_new","GET_ITEM","mapStateToProps","ownProps","QLUser","WishlistLocal","mapDispatchToProps","dispatch","GET_USER","UPDATE_WISHLIST"],"mappings":";;AAAA;;AACA;;AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AACA,MAAMC,UAAU,GAAG,MAAOC,EAAP,IAAc,MAAMF,KAAK,CAACG,GAAN,CAAU,YAAYD,EAAtB,CAAvC;;AACA,MAAME,UAAU,GAAGN,gBAAgB,CAACC,IAAD,CAAnC;KAAMK,U;;AACN,MAAMC,WAAW,GAAG,OAAOH,EAAP,EAAWI,QAAX,KAAwB,MAAMN,KAAK,CAACO,GAAN,CAAU,YAAYL,EAAtB,EAA0B;AAAEI,EAAAA;AAAF,CAA1B,CAAlD;;AACA,MAAME,IAAN,SAAmBhB,SAAnB,CAA6B;AAC3BiB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,OAVmB,GAUT,MAAM;AACd,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE,IADC;AAEZC,QAAAA,KAAK,EAAE,mBAFK;AAGZC,QAAAA,IAAI,EAAE;AAHM,OAAd;AAKD,KAhBkB;;AAAA,SAiBnBC,WAjBmB,GAiBJC,KAAD,IAAW,CACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAhCkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,KADA;AAEXN,MAAAA,SAAS,EAAE,KAFA;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,IAAI,EAAE,EAJK;AAKXK,MAAAA,IAAI,EAAE;AALK,KAAb;AAOD;;AAwBDC,EAAAA,MAAM,GAAG;AACP,WACE,KAAKX,KAAL,CAAWY,QAAX,CAAoBC,GAApB,CAAwB,CAACN,KAAD,EAAQO,GAAR,KAAgB;AACtC,0BAAO;AAAe,QAAA,SAAS,EAAE,KAAKd,KAAL,CAAWe,IAArC;AAAA,mBACJ,KAAKP,KAAL,CAAWC,SAAX,gBAAuB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAAvB,GAA6C,IADzC,EAGH,KAAKD,KAAL,CAAWL,SAAX,gBAAuB,QAAC,UAAD;AACrB,UAAA,IAAI,EAAE,IADe;AAErB,UAAA,KAAK,EAAE,KAAKK,KAAL,CAAWJ,KAFG;AAGrB,UAAA,IAAI,EAAE,KAAKI,KAAL,CAAWH,IAHI;AAIrB,UAAA,IAAI,EAAE,KAAKG,KAAL,CAAWE,IAJI,CAKrB;AALqB;AAMrB,UAAA,SAAS,EAAE,MAAM,KAAKR,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAE;AAAb,WAAd;AANI;AAAA;AAAA;AAAA;AAAA,gBAAvB,GAOK,IAVF,eAYL;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,oCACE,QAAC,IAAD;AAAM,cAAA,OAAO,EAAE,KAAKH,KAAL,CAAWgB,yBAAX,GAAuC,MAAM,KAAKhB,KAAL,CAAWgB,yBAAX,CAAqCT,KAAK,CAACU,GAA3C,CAA7C,GAA+F,IAA9G;AAAoH,cAAA,EAAE,EAAE,aAAahC,IAAI,CAACsB,KAAK,CAACH,KAAP,CAAjB,GAAiC,GAAjC,GAAuCG,KAAK,CAACU,GAArK;AAA0K,cAAA,SAAS,EAAC,OAApL;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAC,gBAAhB;AAAA,2BACGV,KAAK,CAACW,QAAN,IAAkB,CAAlB,gBAAsB;AAAM,kBAAA,SAAS,EAAC,YAAhB;AAAA,yCAA6B;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAA7B;AAAA;AAAA;AAAA;AAAA,wBAAtB,GAA2F,IAD9F,EAEGX,KAAK,CAACY,MAAN,IAAgB,KAAhB,gBAAwB;AAAM,kBAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAxB,GAA2D,IAF9D,EAGGZ,KAAK,CAACa,IAAN,GAAa,CAAb,gBAAiB;AAAM,kBAAA,SAAS,EAAC,QAAhB;AAAA,kCAA2Bb,KAAK,CAACa,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAjB,GAAkE,IAHrE;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAME;AAAK,gBAAA,GAAG,EAAEb,KAAK,CAACc,IAAN,CAAW,CAAX,CAAV;AAAyB,gBAAA,GAAG,EAAC,eAA7B;AAA6C,gBAAA,KAAK,EAAE;AAACC,kBAAAA,SAAS,EAAE;AAAZ;AAApD;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE;AAAK,gBAAA,SAAS,EAAC,cAAf;AAA8B,gBAAA,GAAG,EAAEf,KAAK,CAACc,IAAN,CAAW,CAAX,CAAnC;AAAkD,gBAAA,GAAG,EAAC,eAAtD;AAAsE,gBAAA,KAAK,EAAE;AAACC,kBAAAA,SAAS,EAAE;AAAZ;AAA7E;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE;AAAG,cAAA,SAAS,EAAE,KAAKtB,KAAL,CAAWuB,IAAX,IAAmB,KAAKvB,KAAL,CAAWuB,IAAX,CAAgB3B,QAAhB,CAAyB4B,QAAzB,CAAkCjB,KAAK,CAACU,GAAxC,CAAnB,GAAkE,2CAAlE,GAAgH,4BAA9H;AAA4J,2BAAU,iBAAtK;AAAwL,cAAA,OAAO,EAAE,MAAM,KAAKX,WAAL,CAAiBC,KAAjB,CAAvM;AAAA,qCAAgO;AAAG,gBAAA,SAAS,EAAE,KAAKP,KAAL,CAAWuB,IAAX,IAAmB,KAAKvB,KAAL,CAAWuB,IAAX,CAAgB3B,QAAhB,CAAyB4B,QAAzB,CAAkCjB,KAAK,CAACU,GAAxC,CAAnB,GAAkE,cAAlE,GAAmF;AAAjG;AAAA;AAAA;AAAA;AAAA;AAAhO;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAaE;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,OAAd;AAAA,qCAAsB,QAAC,IAAD;AAAM,gBAAA,EAAE,EAAE,aAAahC,IAAI,CAACsB,KAAK,CAACH,KAAP,CAAjB,GAAiC,GAAjC,GAAuCG,KAAK,CAACU,GAAvD;AAAA,0BAA6DV,KAAK,CAACH;AAAnE;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAM,cAAA,SAAS,EAAC,OAAhB;AAAA,yBACGG,KAAK,CAACa,IAAN,GAAa,CAAb,gBAAkB;AAAA,wCAAE;AAAM,kBAAA,SAAS,EAAC,KAAhB;AAAA,4BAAuBlC,GAAG,CAACqB,KAAK,CAACkB,SAAP;AAA1B;AAAA;AAAA;AAAA;AAAA,wBAAF,eAAqD;AAAM,kBAAA,SAAS,EAAC,KAAhB;AAAA,4BAAuBvC,GAAG,CAACqB,KAAK,CAACmB,SAAP;AAA1B;AAAA;AAAA;AAAA;AAAA,wBAArD;AAAA,8BAAlB,GAAiIxC,GAAG,CAACqB,KAAK,CAACmB,SAAP,CADvI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAKE;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,sCACE;AAAG,gBAAA,IAAI,EAAC,iBAAR;AAA0B,+BAAY,OAAtC;AAA8C,gBAAA,SAAS,EAAC,0BAAxD;AAAmF,6BAAU,YAA7F;AAA0G,gBAAA,OAAO,EAAE,MAAM;AAAE,uBAAK1B,KAAL,CAAW2B,QAAX,CAAoBpB,KAApB;AAA4B,iBAAvJ;AAAA,uCAAyJ;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAAzJ;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAG,gBAAA,IAAI,EAAC,iBAAR;AAA0B,+BAAY,OAAtC;AAA8C,gBAAA,SAAS,EAAC,0BAAxD;AAAmF,6BAAU,aAA7F;AAA2G,gBAAA,OAAO,EAAE,MAAM;AAAE,uBAAKP,KAAL,CAAW2B,QAAX,CAAoBpB,KAApB;AAA4B,iBAAxJ;AAAA,uCAA0J;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAA1J;AAAA;AAAA;AAAA;AAAA,sBAFF,eAIE;AAAG,gBAAA,OAAO,EAAE,MAAM,KAAKN,OAAL,EAAlB;AAAkC,gBAAA,SAAS,EAAC,0BAA5C;AAAuE,6BAAU,SAAjF;AAAA,uCAA2F;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAA3F;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZK;AAAA,SAAUa,GAAV;AAAA;AAAA;AAAA;AAAA,cAAP;AAwCD,KAzCD,CADF;AA4CD;;AA/E0B;;AAiF7B,MAAMc,eAAe,GAAG,CAACpB,KAAD,EAAQqB,QAAR,KAAqB;AAC3C,SAAO;AACLN,IAAAA,IAAI,EAAEf,KAAK,CAACsB,MAAN,CAAaP,IADd;AAELQ,IAAAA,aAAa,EAAEvB,KAAK,CAACsB,MAAN,CAAaC;AAFvB,GAAP;AAID,CALD;;AAMA,MAAMC,kBAAkB,GAAG,CAACC,QAAD,EAAWJ,QAAX,KAAwB;AACjD,SAAO;AACLF,IAAAA,QAAQ,EAAGA,QAAD,IAAc;AACtBM,MAAAA,QAAQ,CAAC;AACP5B,QAAAA,IAAI,EAAE,UADC;AAEPsB,QAAAA;AAFO,OAAD,CAAR;AAID,KANI;AAOLO,IAAAA,QAAQ,EAAGA,QAAD,IAAc;AACtBD,MAAAA,QAAQ,CAAC;AACP5B,QAAAA,IAAI,EAAE,UADC;AAEP6B,QAAAA;AAFO,OAAD,CAAR;AAID,KAZI;AAaLC,IAAAA,eAAe,EAAGA,eAAD,IAAqB;AACpCF,MAAAA,QAAQ,CAAC;AACP5B,QAAAA,IAAI,EAAE,iBADC;AAEP8B,QAAAA;AAFO,OAAD,CAAR;AAID;AAlBI,GAAP;AAoBD,CArBD;;AAsBA,eAAepD,OAAO,CAAC6C,eAAD,EAAkBI,kBAAlB,CAAP,CAA6ClC,IAA7C,CAAf","sourcesContent":["/* eslint-disable eqeqeq */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport slug from 'vietnamese-slug';\r\nimport VND from './../function/ConverstVND'\r\nimport Loading from './Loading';\r\nimport { withSwalInstance } from 'sweetalert2-react';\r\nimport swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nconst getSanpham = async (id) => await axios.get(\"/items/\" + id)\r\nconst SweetAlert = withSwalInstance(swal);\r\nconst putWishlist = async (id, wishlist) => await axios.put(\"/users/\" + id, { wishlist });\r\nclass Item extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      checkload: false,\r\n      showAlert: false,\r\n      title: \"\",\r\n      type: \"\",\r\n      text: \"\",\r\n    }\r\n  }\r\n  Compare = () => {\r\n    this.setState({\r\n      showAlert: true,\r\n      title: \"Đang UPDATE modun\",\r\n      type: \"warning\",\r\n    });\r\n  }\r\n  AddWishlist = (value) => {\r\n    // if (!this.props.user) {\r\n    //   return this.setState({ showAlert: true, title: \"Đăng nhập để sử dụng chức năng này\", type: \"warning\" });\r\n    // }\r\n    // var wishlist = this.props.user.wishlist\r\n    // var WishlistLocal = this.props.WishlistLocal\r\n    // if (!wishlist.includes(value._id)) {\r\n    //   wishlist.push(value._id)\r\n    //   getSanpham(value._id).then((res) => WishlistLocal.push(res.data.payload))\r\n    // }\r\n    // putWishlist(this.props.user._id, wishlist).then((res) => {\r\n    //   this.props.GET_USER(res.data.payload)\r\n    //   this.props.UPDATE_WISHLIST(WishlistLocal)\r\n    //   this.setState({ showAlert: true, title: \"Success\", type: \"success\" });\r\n    // })\r\n  }\r\n  render() {\r\n    return (\r\n      this.props.sanphams.map((value, key) => {\r\n        return <div key={key} className={this.props.name}>\r\n          {this.state.checkload ? <Loading></Loading> : null}\r\n          {\r\n            this.state.showAlert ? <SweetAlert\r\n              show={true}\r\n              title={this.state.title}\r\n              type={this.state.type}\r\n              text={this.state.text}\r\n              // type=\"success\"\r\n              onConfirm={() => this.setState({ showAlert: false })}\r\n            /> : null\r\n          }\r\n          <div className=\"product\">\r\n            <div className=\"product-thumb\">\r\n              <Link onClick={this.props.GET_ITEMcothebancungthich ? () => this.props.GET_ITEMcothebancungthich(value._id) : null} to={\"sanpham.\" + slug(value.title) + \".\" + value._id} className=\"image\">\r\n                <span className=\"product-badges\">\r\n                  {value.quantity == 0 ? <span className=\"outofstock\"><i className=\"fal fa-frown\" /></span> : null}\r\n                  {value.status == \"HOT\" ? <span className=\"hot\">hot</span> : null}\r\n                  {value.sale > 0 ? <span className=\"onsale\">-{value.sale}%</span> : null}\r\n                </span>\r\n                <img src={value.imgs[0]} alt=\"Product Image\" style={{maxHeight: '349px'}} />\r\n                <img className=\"image-hover \" src={value.imgs[1]} alt=\"Product Image\" style={{maxHeight: '349px'}} />\r\n              </Link>\r\n              <a className={this.props.user && this.props.user.wishlist.includes(value._id) ? \"add-to-wishlist hintT-left wishlist-added\" : \"add-to-wishlist hintT-left\"} data-hint=\"Add to wishlist\" onClick={() => this.AddWishlist(value)}><i className={this.props.user && this.props.user.wishlist.includes(value._id) ? \"fa-heart fas\" : \"far fa-heart\"} /></a>\r\n            </div>\r\n            <div className=\"product-info\">\r\n              <h6 className=\"title\"><Link to={\"sanpham.\" + slug(value.title) + \".\" + value._id}>{value.title}</Link></h6>\r\n              <span className=\"price\">\r\n                {value.sale > 0 ? (<><span className=\"old\">{VND(value.price_old)}</span><span className=\"new\">{VND(value.price_new)}</span></>) : VND(value.price_new)} VNĐ\r\n              </span>\r\n              <div className=\"product-buttons\">\r\n                <a href=\"#quickViewModal\" data-toggle=\"modal\" className=\"product-button hintT-top\" data-hint=\"Quick View\" onClick={() => { this.props.GET_ITEM(value) }}><i className=\"fal fa-search\" /></a>\r\n                <a href=\"#quickViewModal\" data-toggle=\"modal\" className=\"product-button hintT-top\" data-hint=\"Add to Cart\" onClick={() => { this.props.GET_ITEM(value) }}><i className=\"fal fa-shopping-cart\" /></a>\r\n                {/* <a  className=\"product-button hintT-top\" data-hint=\"Add to Cart\"><i className=\"fal fa-shopping-cart\" /></a> */}\r\n                <a onClick={() => this.Compare()} className=\"product-button hintT-top\" data-hint=\"Compare\"><i className=\"fal fa-random\" /></a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      })\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.QLUser.user,\r\n    WishlistLocal: state.QLUser.WishlistLocal,\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    GET_ITEM: (GET_ITEM) => {\r\n      dispatch({\r\n        type: \"GET_ITEM\",\r\n        GET_ITEM\r\n      })\r\n    },\r\n    GET_USER: (GET_USER) => {\r\n      dispatch({\r\n        type: \"GET_USER\",\r\n        GET_USER\r\n      })\r\n    },\r\n    UPDATE_WISHLIST: (UPDATE_WISHLIST) => {\r\n      dispatch({\r\n        type: \"UPDATE_WISHLIST\",\r\n        UPDATE_WISHLIST\r\n      })\r\n    },\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Item)\r\n"]},"metadata":{},"sourceType":"module"}