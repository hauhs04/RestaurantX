{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Dropbox\\\\My PC (LAPTOP-JA8PC77O)\\\\Desktop\\\\BTL\\\\RestaurantX\\\\Client\\\\src\\\\Page\\\\CheckOut.js\";\n\n/* eslint-disable eqeqeq */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from '../component/Loading';\nimport VND from './../function/ConverstVND';\nimport { withSwalInstance } from 'sweetalert2-react';\nimport swal from 'sweetalert2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SweetAlert = withSwalInstance(swal);\n_c = SweetAlert;\n\nconst putdataUser = async (id, order) => await axios.put(\"/users/order/\" + id, {\n  order\n});\n\nconst postdataOrder = async data => await axios.post(\"/orders\", data);\n\nclass CheckOut extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.total = () => {\n      var x = 0;\n      this.props.SanphamLocal.map(value => {\n        x += Number(value.quantity) * Number(value.price);\n      });\n      return x;\n    };\n\n    this.dathang = () => {\n      this.setState({\n        checkLoad: true\n      });\n\n      if (this.state.name.length < 1 || this.state.email.length < 1 || this.state.adress.length < 1 || this.state.phone.length < 9) {\n        return this.setState({\n          showAlert: true,\n          type: \"error\",\n          title: \"Xem lại thông tin !\"\n        });\n      }\n\n      if (!this.state.email.includes(\"@\")) {\n        return this.setState({\n          showAlert: true,\n          type: \"error\",\n          title: \"Email ghi sai r !\"\n        });\n      }\n\n      var d = new Date();\n      var time = d.getDate() + '/' + (d.getMonth() + 1) + \"/\" + d.getFullYear();\n      var data = {\n        \"date\": time,\n        \"userID\": this.props.user ? this.props.user._id : null,\n        \"name\": this.state.name,\n        \"phone\": this.state.phone,\n        \"adress\": this.state.adress,\n        \"node\": this.state.node,\n        \"email\": this.state.email,\n        \"cart\": this.props.SanphamLocal,\n        \"price\": this.total()\n      };\n      Promise.all([this.props.user ? putdataUser(this.props.user._id, data).then(res => this.props.GET_USER(res.data.payload)).catch() : null, postdataOrder(data).then().catch()]).then(() => {\n        localStorage.setItem(\"SanPham\", JSON.stringify([]));\n        this.props.UPDATE_LOCAL([]);\n        this.setState({\n          showAlert: true,\n          type: \"success\",\n          title: \"Đặt thành công kiểm tra Email\",\n          text: \"cảm ơn bạn đã mua hàng\"\n        });\n        return this.props.history.push(\"/\");\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: this.props.user ? this.props.user.email : \"\",\n      adress: \"\",\n      phone: \"\",\n      checkLoad: false,\n      showAlert: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.SanphamLocal.length == 0) return this.props.history.push(\"/\");\n  }\n\n  render() {\n    console.log(this.props.user);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section section-padding checkout\",\n      children: [this.state.showAlert ? /*#__PURE__*/_jsxDEV(SweetAlert, {\n        show: true,\n        title: this.state.title,\n        type: this.state.type,\n        text: this.state.text // type=\"success\"\n        ,\n        onConfirm: () => this.setState({\n          checkLoad: false,\n          showAlert: false\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 38\n      }, this) : null, this.state.checkLoad ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkout-coupon\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"coupon-toggle\",\n            children: [\"Have a coupon? \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#checkout-coupon-form\",\n              \"data-toggle\": \"collapse\",\n              children: \"Click here to enter your code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"checkout-coupon-form\",\n            className: \"collapse\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"If you have a coupon code, please apply it below.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"learts-mb-n10\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"learts-mb-10\",\n                  type: \"text\",\n                  placeholder: \"Coupon code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-dark btn-outline-hover-dark learts-mb-10\",\n                  children: \"apply coupon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title2\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title\",\n            children: \"Chi ti\\u1EBFt thanh to\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"checkout-form learts-mb-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 learts-mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"bdFirstName\",\n                children: [\"T\\xEAn \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  className: \"required\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 44\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: event => this.isChange(event),\n                name: \"name\",\n                type: \"text\",\n                id: \"bdFirstName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 learts-mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"adress\",\n                children: [\"\\u0110\\u1ECBa ch\\u1EC9 \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  className: \"required\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: event => this.isChange(event),\n                name: \"adress\",\n                type: \"text\",\n                id: \"adress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 learts-mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"bdEmail\",\n                children: [\"Email \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  className: \"required\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: event => this.isChange(event),\n                name: \"email\",\n                defaultValue: this.props.user ? this.props.user.email : null,\n                type: \"text\",\n                id: \"bdEmail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 col-12 learts-mb-30\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"bdPhone\",\n                children: [\"Phone \", /*#__PURE__*/_jsxDEV(\"abbr\", {\n                  className: \"required\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: event => this.isChange(event),\n                name: \"phone\",\n                type: \"number\",\n                id: \"bdPhone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 learts-mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"bdOrderNote\",\n                children: \" Notes (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                onChange: event => this.isChange(event),\n                name: \"node\",\n                id: \"bdOrderNote\",\n                placeholder: \"Notes about your order, e.g. special notes for delivery.\",\n                defaultValue: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title2 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title\",\n            children: \"Your order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row learts-mb-n30\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6 order-lg-2 learts-mb-30\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-review\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"name\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"total\",\n                      children: \"Subtotal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: this.props.SanphamLocal.map((value, key) => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"name\",\n                        children: [value.title, \"\\xA0 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                          className: \"quantity\",\n                          children: [\"\\xD7\\xA0\", value.quantity]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 144,\n                          columnNumber: 70\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"total\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [VND(value.quantity * value.price), \" VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 145,\n                          columnNumber: 51\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"subtotal\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"T\\u1EA1m t\\xEDnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [VND(this.total()), \" VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"total\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"T\\u1ED5ng s\\u1ED1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [VND(this.total()), \" VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6 order-lg-1 learts-mb-30\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-payment\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-method\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"accordion\",\n                  id: \"paymentMethod\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card active\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        \"data-toggle\": \"collapse\",\n                        \"data-target\": \"#checkPayments\",\n                        children: \"Check payments\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      id: \"checkPayments\",\n                      className: \"collapse show\",\n                      \"data-parent\": \"#paymentMethod\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Please send a check to Store Name, Store Street, Store Town, Store State / County, Store Postcode.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 173,\n                          columnNumber: 21\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        \"data-toggle\": \"collapse\",\n                        \"data-target\": \"#cashkPayments\",\n                        children: \"Cash on delivery \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      id: \"cashkPayments\",\n                      className: \"collapse\",\n                      \"data-parent\": \"#paymentMethod\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Pay with cash upon delivery.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 183,\n                          columnNumber: 21\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        \"data-toggle\": \"collapse\",\n                        \"data-target\": \"#payPalPayments\",\n                        children: [\"PayPal \", /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"assets/images/others/pay-2.png\",\n                          alt: \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 87\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      id: \"payPalPayments\",\n                      className: \"collapse\",\n                      \"data-parent\": \"#paymentMethod\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: \"Pay via PayPal; you can pay with your credit card if you don\\u2019t have a PayPal account.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 193,\n                          columnNumber: 21\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"payment-note\",\n                  children: \"Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => this.dathang(),\n                  className: \"btn btn-dark btn-outline-hover-dark\",\n                  children: \"\\u0110\\u1EB7t h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.QLUser.user,\n    SanphamLocal: state.QLLocal.SanphamLocal\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    UPDATE_LOCAL: UPDATE_LOCAL => {\n      dispatch({\n        type: \"UPDATE_LOCAL\",\n        UPDATE_LOCAL\n      });\n    },\n    GET_USER: GET_USER => {\n      dispatch({\n        type: \"GET_USER\",\n        GET_USER\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOut);\n\nvar _c;\n\n$RefreshReg$(_c, \"SweetAlert\");","map":{"version":3,"sources":["C:/Users/ACER/Dropbox/My PC (LAPTOP-JA8PC77O)/Desktop/BTL/RestaurantX/Client/src/Page/CheckOut.js"],"names":["React","Component","connect","Loading","VND","withSwalInstance","swal","axios","SweetAlert","putdataUser","id","order","put","postdataOrder","data","post","CheckOut","constructor","props","isChange","e","setState","target","name","value","total","x","SanphamLocal","map","Number","quantity","price","dathang","checkLoad","state","length","email","adress","phone","showAlert","type","title","includes","d","Date","time","getDate","getMonth","getFullYear","user","_id","node","Promise","all","then","res","GET_USER","payload","catch","localStorage","setItem","JSON","stringify","UPDATE_LOCAL","text","history","push","componentDidMount","render","console","log","event","key","mapStateToProps","ownProps","QLUser","QLLocal","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/* eslint-disable eqeqeq */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Loading from '../component/Loading';\r\nimport VND from './../function/ConverstVND';\r\nimport { withSwalInstance } from 'sweetalert2-react';\r\nimport swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nconst SweetAlert = withSwalInstance(swal);\r\nconst putdataUser = async(id,order) => await axios.put(\"/users/order/\"+id,{order});\r\nconst postdataOrder = async(data) => await axios.post(\"/orders\",data);\r\nclass CheckOut extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      name:\"\",\r\n      email:this.props.user?this.props.user.email:\"\",\r\n      adress:\"\",\r\n      phone:\"\",\r\n      checkLoad:false,\r\n      showAlert:false\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if(this.props.SanphamLocal.length==0) return this.props.history.push(\"/\")\r\n  }\r\n  \r\n  isChange=(e)=>{\r\n    this.setState({\r\n      [e.target.name]:e.target.value\r\n    });\r\n    \r\n  }\r\n  total=()=>{\r\n    var x=0\r\n    this.props.SanphamLocal.map((value)=>{\r\n      x+=(Number(value.quantity)*Number(value.price))\r\n    })\r\n    return x\r\n  }\r\n  dathang=()=>{\r\n    this.setState({checkLoad:true});\r\n    if(this.state.name.length<1||this.state.email.length<1||this.state.adress.length<1||this.state.phone.length<9){\r\n      return this.setState({showAlert:true,type:\"error\",title:\"Xem lại thông tin !\"})\r\n    }\r\n    if(!this.state.email.includes(\"@\")){\r\n      return this.setState({showAlert:true,type:\"error\",title:\"Email ghi sai r !\"})\r\n    }\r\n    var d = new Date();\r\n    var time = d.getDate()+'/'+(d.getMonth()+1)+\"/\"+d.getFullYear();\r\n    var data={\r\n      \"date\":time,\r\n      \"userID\":this.props.user?this.props.user._id:null,\r\n      \"name\":this.state.name,\r\n      \"phone\":this.state.phone,\r\n      \"adress\":this.state.adress,\r\n      \"node\":this.state.node,\r\n      \"email\":this.state.email,\r\n      \"cart\":this.props.SanphamLocal,\r\n      \"price\":this.total()\r\n    }\r\n    Promise.all([\r\n      this.props.user?putdataUser(this.props.user._id,data).then((res)=>this.props.GET_USER(res.data.payload)).catch():null,\r\n      postdataOrder(data).then().catch()\r\n    ]).then(()=>{\r\n      localStorage.setItem(\"SanPham\", JSON.stringify([]));\r\n      this.props.UPDATE_LOCAL([])\r\n      this.setState({showAlert:true,type:\"success\",title:\"Đặt thành công kiểm tra Email\",text:\"cảm ơn bạn đã mua hàng\"});\r\n      return this.props.history.push(\"/\")\r\n    })\r\n  }\r\n    render() {\r\n      console.log(this.props.user);\r\n        return (\r\n            <div className=\"section section-padding checkout\">\r\n              {\r\n                this.state.showAlert?<SweetAlert\r\n                                      show={true}\r\n                                      title={this.state.title}\r\n                                      type={this.state.type}\r\n                                      text={this.state.text}\r\n                                      // type=\"success\"\r\n                                      onConfirm={() => this.setState({ checkLoad:false,showAlert: false })}\r\n                                    />:null\r\n              }\r\n              {this.state.checkLoad?<Loading></Loading>:null}\r\n  <div className=\"container\">\r\n    <div className=\"checkout-coupon\">\r\n      <p className=\"coupon-toggle\">Have a coupon? <a href=\"#checkout-coupon-form\" data-toggle=\"collapse\">Click here to enter your code</a></p>\r\n      <div id=\"checkout-coupon-form\" className=\"collapse\">\r\n        <div className=\"coupon-form\">\r\n          <p>If you have a coupon code, please apply it below.</p>\r\n          <form  className=\"learts-mb-n10\">\r\n            <input className=\"learts-mb-10\" type=\"text\" placeholder=\"Coupon code\" />\r\n            <button type=\"button\" className=\"btn btn-dark btn-outline-hover-dark learts-mb-10\">apply coupon</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"section-title2\">\r\n      <h2 className=\"title\">Chi tiết thanh toán</h2>\r\n    </div>\r\n    <form  className=\"checkout-form learts-mb-50\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 col-12 learts-mb-20\">\r\n          <label htmlFor=\"bdFirstName\">Tên <abbr className=\"required\">*</abbr></label>\r\n          <input onChange={(event)=>this.isChange(event)} name=\"name\" type=\"text\" id=\"bdFirstName\" />\r\n        </div>\r\n        <div className=\"col-md-6 col-12 learts-mb-20\">\r\n          <label htmlFor=\"adress\">Địa chỉ <abbr className=\"required\">*</abbr></label>\r\n          <input onChange={(event)=>this.isChange(event)}  name=\"adress\" type=\"text\" id=\"adress\" />\r\n        </div>\r\n        <div className=\"col-md-6 col-12 learts-mb-20\">\r\n          <label  htmlFor=\"bdEmail\">Email <abbr className=\"required\">*</abbr></label>\r\n          <input onChange={(event)=>this.isChange(event)}  name=\"email\" defaultValue={this.props.user?this.props.user.email:null} type=\"text\" id=\"bdEmail\" />\r\n        </div>\r\n        <div className=\"col-md-6 col-12 learts-mb-30\">\r\n          <label htmlFor=\"bdPhone\">Phone <abbr className=\"required\">*</abbr></label>\r\n          <input onChange={(event)=>this.isChange(event)}  name=\"phone\" type=\"number\" id=\"bdPhone\" />\r\n        </div>\r\n       <div className=\"col-12 learts-mb-20\">\r\n          <label htmlFor=\"bdOrderNote\"> Notes (optional)</label>\r\n          <textarea onChange={(event)=>this.isChange(event)}  name=\"node\" id=\"bdOrderNote\" placeholder=\"Notes about your order, e.g. special notes for delivery.\" defaultValue={\"\"} />\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div className=\"section-title2 text-center\">\r\n      <h2 className=\"title\">Your order</h2>\r\n    </div>\r\n    <div className=\"row learts-mb-n30\">\r\n      <div className=\"col-lg-6 order-lg-2 learts-mb-30\">\r\n        <div className=\"order-review\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"name\">Product</th>\r\n                <th className=\"total\">Subtotal</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                this.props.SanphamLocal.map((value,key)=>{\r\n                  return  <tr>\r\n                            <td className=\"name\">{value.title}&nbsp; <strong className=\"quantity\">×&nbsp;{value.quantity}</strong></td>\r\n                            <td className=\"total\"><span>{VND(value.quantity*value.price)} VNĐ</span></td>\r\n                          </tr>\r\n                })\r\n              }\r\n            </tbody>\r\n            <tfoot>\r\n              <tr className=\"subtotal\">\r\n                <th>Tạm tính</th>\r\n                <td><span>{VND(this.total())} VNĐ</span></td>\r\n              </tr>\r\n              <tr className=\"total\">\r\n                <th>Tổng số</th>\r\n                <td><strong><span>{VND(this.total())} VNĐ</span></strong></td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-lg-6 order-lg-1 learts-mb-30\">\r\n        <div className=\"order-payment\">\r\n          <div className=\"payment-method\">\r\n            <div className=\"accordion\" id=\"paymentMethod\">\r\n              <div className=\"card active\">\r\n                <div className=\"card-header\">\r\n                  <button data-toggle=\"collapse\" data-target=\"#checkPayments\">Check payments</button>\r\n                </div>\r\n                <div id=\"checkPayments\" className=\"collapse show\" data-parent=\"#paymentMethod\">\r\n                  <div className=\"card-body\">\r\n                    <p>Please send a check to Store Name, Store Street, Store Town, Store State / County, Store Postcode.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <button data-toggle=\"collapse\" data-target=\"#cashkPayments\">Cash on delivery </button>\r\n                </div>\r\n                <div id=\"cashkPayments\" className=\"collapse\" data-parent=\"#paymentMethod\">\r\n                  <div className=\"card-body\">\r\n                    <p>Pay with cash upon delivery.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <button data-toggle=\"collapse\" data-target=\"#payPalPayments\">PayPal <img src=\"assets/images/others/pay-2.png\" alt=\"true\" /></button>\r\n                </div>\r\n                <div id=\"payPalPayments\" className=\"collapse\" data-parent=\"#paymentMethod\">\r\n                  <div className=\"card-body\">\r\n                    <p>Pay via PayPal; you can pay with your credit card if you don’t have a PayPal account.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"payment-note\">Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.</p>\r\n            <button type=\"button\" onClick={()=>this.dathang()} className=\"btn btn-dark btn-outline-hover-dark\">Đặt hàng</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.QLUser.user,\r\n    SanphamLocal:state.QLLocal.SanphamLocal,\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    UPDATE_LOCAL: (UPDATE_LOCAL) => {\r\n      dispatch({\r\n          type:\"UPDATE_LOCAL\",\r\n          UPDATE_LOCAL\r\n      })\r\n    },\r\n    GET_USER: (GET_USER) => {\r\n      dispatch({\r\n          type:\"GET_USER\",\r\n          GET_USER\r\n      })\r\n    },\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOut)\r\n"]},"metadata":{},"sourceType":"module"}